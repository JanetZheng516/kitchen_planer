(this.webpackJsonpkitchen_planner=this.webpackJsonpkitchen_planner||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(8),c=n.n(r),s=n(5),o=n(2),l=n(1),m=n(4),d=n(3),u=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return i.a.createElement("nav",null,i.a.createElement("div",{className:"container"},i.a.createElement("a",{href:"http://localhost:3000",className:"logo"},"Kitchen Planner")))}}]),n}(a.Component),p=n(6),h=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onDayChange=function(e){return a.setState({day:e.target.value})},a.onMealChange=function(e){return a.setState({meal:e.target.value})},a.onPostClick=function(){a.props.postItem(Object(p.a)({},a.state)),a.clearState()},a.onUpdateClick=function(){a.props.updateItem(Object(p.a)({},a.state)),a.clearState()},a.clearState=function(){return a.setState({day:"",meal:"",ingredients:[],recipe:""})},a.state={day:"",meal:"",ingredients:[],recipe:""},a}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e){e.currentEditItem!==this.props.currentEditItem&&this.props.currentEditItem&&this.setState(Object(p.a)({},this.props.currentEditItem))}},{key:"render",value:function(){return i.a.createElement("div",{className:"postsContainer"},i.a.createElement("div",{className:"card"},i.a.createElement("span",{className:"card-title"},"What are we going to eat today?"),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"post"},i.a.createElement("label",{className:"item-name"},"Day"),i.a.createElement("select",{id:"date",className:"form-control",value:this.state.day,onChange:this.onDayChange},i.a.createElement("option",{value:""}),i.a.createElement("option",{value:"monday"},"Monday"),i.a.createElement("option",{value:"tuesday"},"Tuesday"),i.a.createElement("option",{value:"wednesday"},"Wednesday"),i.a.createElement("option",{value:"thursday"},"Thursday"),i.a.createElement("option",{value:"friday"},"Friday"),i.a.createElement("option",{value:"saturday"},"Saturday"),i.a.createElement("option",{value:"sunday"},"Sunday"))),i.a.createElement("div",{className:"post"},i.a.createElement("label",{className:"item-name"},"Meal"),i.a.createElement("input",{type:"text",id:"meal",className:"form-control",value:this.state.meal,onChange:this.onMealChange}))),this.props.currentEditItem?i.a.createElement("button",{className:"btn",onClick:this.onUpdateClick},"Update"):i.a.createElement("button",{className:"btn",onClick:this.onPostClick},"Post")))}}]),n}(a.Component),f=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return this.props.ingredients.length?i.a.createElement("ul",{className:"list-group"},this.props.ingredients.map((function(t,n){return i.a.createElement("li",{key:n,className:"item-list"},t,i.a.createElement("a",{href:"#",className:"secondary-content remove",onClick:function(){return e.props.removeIngredient(e.props.item,n)}},i.a.createElement("i",{className:"fas fa-minus-circle"})))}))):""}}]),n}(a.Component),v=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return this.props.recipe?i.a.createElement("div",{className:"box"},this.props.recipe):""}}]),n}(a.Component),g=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).days=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],a.toggleItemComponents=function(e,t){var n=Object(s.a)(a.state.itemsToShow);n.find((function(t){return t===e}))&&!t?a.setState({itemsToShow:n.filter((function(t){return t!==e}))}):(n.push(e),a.setState({itemsToShow:n}))},a.state={itemsToShow:[]};var i=(new Date).getDay();return a.day=i>0?i-1:6,a}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e){e.itemAddedTo!==this.props.itemAddedTo&&this.toggleItemComponents(this.props.itemAddedTo,!0)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"postsContainer"},this.props.items.length?i.a.createElement("span",{className:"card-title"},"My weekly menu"):null,this.days.map((function(t,n){var a=e.props.items.filter((function(e){return e.day===t}));if(!a.length)return"";var r=e.day===n?"pink":"inherit";return i.a.createElement("div",{key:t,className:"menu"},i.a.createElement("ul",null,i.a.createElement("strong",{id:"weekday",className:"list-title",style:{textTransform:"capitalize",color:r}},t),a.map((function(n,a){if(n.day===t){var r=e.state.itemsToShow.find((function(e){return e===n})),c=(!n.ingredients||!n.ingredients.length)&&!n.recipe;return i.a.createElement("li",{className:"collection-item",key:"".concat(t,"-").concat(a)},i.a.createElement("div",{className:"input"},!c&&i.a.createElement("a",{className:"toggle",onClick:function(){return e.toggleItemComponents(n)}},i.a.createElement("i",{className:"fas fa-chevron-".concat(r?"up":"down")})),i.a.createElement("p",null," ",n.meal," ")),i.a.createElement("div",null,i.a.createElement("a",{className:"secondary-content delete",onClick:function(){return e.props.deleteItem(n)}},i.a.createElement("i",{className:"fas fa-trash-alt"})),i.a.createElement("a",{className:"secondary-content edit",onClick:function(){return e.props.editItem(n)}},i.a.createElement("i",{className:"edit-item fa fa-pencil"})),i.a.createElement("a",{className:"secondary-content add-recipe",id:"myBtnAddrecipe",onClick:function(){return e.props.openRecipeModal(n)}},i.a.createElement("i",{className:"fas fa-book-medical"})),i.a.createElement("a",{className:"secondary-content add-item",id:"myBtnAddIngredient",onClick:function(){return e.props.openIngredientModal(n)}},i.a.createElement("i",{className:"fas fa-cart-plus"}))),r&&i.a.createElement(f,{item:n,ingredients:n.ingredients,removeIngredient:e.props.removeIngredient}),r&&i.a.createElement(v,{item:n,recipe:n.recipe}))}return""}))))})))}}]),n}(a.Component),E=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{className:"alert"},this.props.alertText)}}]),n}(a.Component),y=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onAddClick=function(){a.props.postIngredient(a.state.ingredient),a.setState({ingredient:""},(function(){a.ingredientInput.focus()}));var e=a.capitalizeSentence("".concat(a.state.ingredient," added to ").concat(a.props.item.meal));a.setState({alertText:e},(function(){clearTimeout(a.alertTimeout),a.alertTimeout=setTimeout((function(){a.hasUnmounted||a.setState({alertText:""})}),3e3)}))},a.capitalizeSentence=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},a.onIngredientChange=function(e){return a.setState({ingredient:e.target.value})},a.state={ingredient:"",alertText:""},a.alertTimeout=null,a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.ingredientInput.focus(),this.hasUnmounted=!1}}]),Object(l.a)(n,[{key:"componentWillUnmount",value:function(){this.hasUnmounted=!0}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"postsContainer"},i.a.createElement("div",{id:"myModalIngredient",className:"modal"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("span",{className:"close",onClick:function(){return e.props.closeIngredientModal()}},"\xd7"),this.state.alertText?i.a.createElement(E,{alertText:this.state.alertText}):null,i.a.createElement("div",{className:"add"},i.a.createElement("input",{type:"text",className:"form-control ingredient",placeholder:"Add new ingredient here",onChange:this.onIngredientChange,value:this.state.ingredient,ref:function(t){e.ingredientInput=t}}),i.a.createElement("button",{className:"btn adding",onClick:this.onAddClick},"Add")))))}}]),n}(a.Component),I=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onSaveClick=function(){a.props.postRecipe(a.state.recipe),a.setState({recipe:""})},a.onRecipeChange=function(e){return a.setState({recipe:e.target.value})},a.state={recipe:""},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.setState({recipe:this.props.item.recipe})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"postsContainer"},i.a.createElement("div",{id:"myModalRecipe",className:"modal"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("span",{className:"close",onClick:function(){return e.props.closeRecipeModal()}},"\xd7"),i.a.createElement("textarea",{placeholder:"Add your recipe...",onChange:this.onRecipeChange,value:this.state.recipe}),i.a.createElement("div",{className:"modalControl"},i.a.createElement("button",{className:"btn save",onClick:this.onSaveClick},"Save"),i.a.createElement("button",{className:"btn clear",onClick:this.props.clearRecipe},"Clear")))))}}]),n}(a.Component),b=(n(14),function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={items:[],currentEditItem:null,showIngredientModal:!1,showRecipeModal:!1,itemToAddIngredientTo:null,itemToAddRecipeTo:null,itemAddedTo:null},e.storeItems=function(){var t=Object(s.a)(e.state.items);localStorage.setItem("items",JSON.stringify(t))},e.postItem=function(t){var n=Object(s.a)(e.state.items);n.push(t),e.setState({items:n},(function(){e.storeItems()}))},e.deleteItem=function(t){var n=Object(s.a)(e.state.items).filter((function(e){return e!==t}));e.setState({items:n},(function(){e.storeItems()}))},e.editItem=function(t){return e.setState({currentEditItem:t})},e.updateItem=function(t){var n=Object(s.a)(e.state.items);e.setState({items:n.map((function(n){return n===e.state.currentEditItem?t:n})),currentEditItem:null},(function(){e.storeItems()}))},e.openIngredientModal=function(t){e.setState({showIngredientModal:!0,itemToAddIngredientTo:t})},e.openRecipeModal=function(t){e.setState({showRecipeModal:!0,itemToAddRecipeTo:t})},e.closeIngredientModal=function(){e.setState({showIngredientModal:!1})},e.closeRecipeModal=function(){e.setState({showRecipeModal:!1})},e.postIngredient=function(t){var n=Object(s.a)(e.state.items);e.setState({items:n.map((function(n){return n===e.state.itemToAddIngredientTo&&n.ingredients.push(t),n})),itemAddedTo:e.state.itemToAddIngredientTo},(function(){e.storeItems()}))},e.removeIngredient=function(t,n){var a=Object(s.a)(e.state.items).map((function(e){return e===t&&e.ingredients.splice(n,1),e}));e.setState({items:a},(function(){e.storeItems()}))},e.postRecipe=function(t){var n=Object(s.a)(e.state.items);e.setState({items:n.map((function(n){return n===e.state.itemToAddRecipeTo&&(n.recipe=t),n}))}),e.setState({showRecipeModal:!1,itemAddedTo:e.state.itemToAddRecipeTo},(function(){e.storeItems()}))},e.clearRecipe=function(){var t=Object(s.a)(e.state.items);e.setState({items:t.map((function(t){return t===e.state.itemToAddRecipeTo&&(t.recipe=""),t}))}),e.setState({showRecipeModal:!1},(function(){e.storeItems()}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("items"));this.setState({items:e})}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(u,null),i.a.createElement(h,{postItem:this.postItem,updateItem:this.updateItem,currentEditItem:this.state.currentEditItem}),i.a.createElement(g,{items:this.state.items,itemAddedTo:this.state.itemAddedTo,removeIngredient:this.removeIngredient,deleteItem:this.deleteItem,editItem:this.editItem,openIngredientModal:this.openIngredientModal,openRecipeModal:this.openRecipeModal}),this.state.showIngredientModal?i.a.createElement(y,{closeIngredientModal:this.closeIngredientModal,postIngredient:this.postIngredient,item:this.state.itemToAddIngredientTo}):null,this.state.showRecipeModal?i.a.createElement(I,{closeRecipeModal:this.closeRecipeModal,postRecipe:this.postRecipe,item:this.state.itemToAddRecipeTo,clearRecipe:this.clearRecipe}):null)}}]),n}(a.Component));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(b,null)),document.getElementById("app"))},9:function(e,t,n){e.exports=n(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.77745485.chunk.js.map